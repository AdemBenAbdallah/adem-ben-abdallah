[
  {
    "slug": "blog/handling-asyc-data",
    "title": "Handling Asynchronous Data Fetching in React Beyond the Basics",
    "description": "Handling asynchronous data fetching in React",
    "date": "2024-07-07T00:00:00.000Z",
    "published": true,
    "tags": [
      "react js",
      "react-query"
    ],
    "body": "const{Fragment:n,jsx:l,jsxs:e}=arguments[0];function _createMdxContent(r){const s={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...r.components};return e(n,{children:[l(s.p,{children:\"If you've ever fetched data in a React app, you've likely encountered a basic pattern like this:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"id\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setId\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"1\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"`https://pokeapi.co/api/v2/pok/${\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"response\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"data\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"catch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(error))\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}, [id])\"})})]})})}),\"\\n\",l(s.p,{children:\"This code fetches data from the PokeAPI and displays it.\\nWhile it's great for tutorials, you definitely wouldn’t want to use it in production unless you enjoy debugging at 3 AM.\\nLet’s dive into some common pitfalls and how to avoid them like a pro Pokemon trainer dodging Zubats in a cave!\"}),\"\\n\",l(s.h2,{id:\"1-handling-loading-and-error-states\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#1-handling-loading-and-error-states\",children:l(s.strong,{children:\"1. Handling Loading and Error States\"})})}),\"\\n\",l(s.p,{children:\"The initial example doesn’t handle loading and error states,\\nleading to two major UX issues: cumulative layout shift and an infinite spinner.\\nTo address this, you should manage these states explicitly:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"id\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setId\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"1\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"pokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"null\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"error\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"null\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"`https://pokeapi.co/api/v2/pok/${\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"response\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"data\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"catch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(error)\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}, [id])\"})})]})})}),\"\\n\",l(s.p,{children:\"This approach ensures you can display appropriate feedback to the user while data is being fetched.\"}),\"\\n\",l(s.h2,{id:\"2-avoiding-race-conditions\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#2-avoiding-race-conditions\",children:l(s.strong,{children:\"2. Avoiding Race Conditions\"})})}),\"\\n\",l(s.p,{children:\"A more subtle issue arises with multiple asynchronous requests.\\nLet's take an example where you have Pokémon data to display.\\nYou have a button that, when clicked, changes the ID of the Pokemon.\"}),\"\\n\",e(\"figure\",{children:[l(\"img\",{src:\"/static/race_cond1.png\",alt:\"race condition 1\"}),l(\"figcaption\",{children:e(s.p,{children:[\"Here, the \",l(s.code,{children:\"id\"}),\" state is set to 1 when you click the button.\"]})})]}),\"\\n\",l(s.p,{children:\"You still haven't received the data from the first request, but you click the button\\nagain, changing the id to 2.\"}),\"\\n\",e(\"figure\",{children:[l(\"img\",{src:\"/static/race_cond2.png\",alt:\"race condition 2\"}),l(\"figcaption\",{children:e(s.p,{children:[\"Here, the \",l(s.code,{children:\"id\"}),\" state is set to 2 when you click the button.\"]})})]}),\"\\n\",l(s.p,{children:\"There is a possibility that the second request with ID 2 returns first, and the data\\nfor ID 1 returns second. Your state with the pokemonId will be out of sync with the\\nfetch call if the fetch for ID 1 returns after the fetch for ID 2 due to happenstance.\"}),\"\\n\",e(\"figure\",{children:[l(\"img\",{src:\"/static/race_cond3.png\",alt:\"race condition 3\"}),l(\"figcaption\",{children:\"The data for ID 2 returns first.\"})]}),\"\\n\",e(\"figure\",{children:[l(\"img\",{src:\"/static/race_cond4.png\",alt:\"race condition 4\"}),l(\"figcaption\",{children:\"The data for ID 1 returns second.\"})]}),\"\\n\",l(s.p,{children:\"This race condition can cause the UI to display incorrect data, as the state\\nmight not reflect the latest requested ID.\"}),\"\\n\",l(s.p,{children:\"If the user clicks a button or triggers a change that results in a new fetch,\\nyou could end up with race conditions this is how you can fix that:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  let\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" true\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"`https://pokeapi.co/api/v2/pok/${\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"response\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"data\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"      if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"catch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"      if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(error)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" false\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}, [id])\"})})]})})}),\"\\n\",l(s.p,{children:\"By using a isMounted flag, you can ignore responses from outdated requests.\"}),\"\\n\",l(s.h2,{id:\"3-abstracting-data-fetching-logic\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#3-abstracting-data-fetching-logic\",children:l(s.strong,{children:\"3. Abstracting Data Fetching Logic\"})})}),\"\\n\",l(s.p,{children:\"To avoid duplicating the fetching logic, you can abstract it into a custom hook:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-line-numbers\":\"\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},\"data-line-numbers-max-digits\":\"2\",children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" usePokemon\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\" id\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"id\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setId\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"1\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"pokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"null\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"error\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"null\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"    let\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" true\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"    setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"`https://pokeapi.co/api/v2/pok/${\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"response\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"data\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"        if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"          setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      })\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"catch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"        if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"          setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(error)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      })\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"    return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" false\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"  }, [id])\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" { pokemon, loading, error }\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),\"\\n\",l(s.p,{children:\"This hook encapsulates the data fetching logic, making it reusable across different components.\"}),\"\\n\",l(s.h2,{id:\"4-managing-data-duplication-and-state\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#4-managing-data-duplication-and-state\",children:l(s.strong,{children:\"4. Managing Data Duplication and State\"})})}),\"\\n\",l(s.p,{children:\"One major drawback of using local component state is data duplication. If multiple components fetch the same data, it leads to redundant requests and potential inconsistencies.\"}),\"\\n\",l(s.p,{children:\"To mitigate this, you can lift the state up to a common parent component or use context:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" PokemonContext\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" createContext\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" PokemonProvider\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"url\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"children\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"data\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"({})\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"error\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useState\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"null\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"    let\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" true\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"    setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(url)\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"response\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"then\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"data\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"        if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"          setPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      })\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"catch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"        if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"          setError\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(error)\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"false\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      })\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"    return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"      isMounted \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" false\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"  }, [id])\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"PokemonContext.Provider\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#B392F0\"},children:\"      value\"}),l(s.span,{style:{color:\"#F97583\"},children:\"=\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"{{\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        data,\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        loading,\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        error,\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"        fetchPokemon,\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      }}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"      {children}\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\"PokemonContext.Provider\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"  )\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),\"\\n\",l(s.h2,{id:\"5-leveraging-react-query\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#5-leveraging-react-query\",children:l(s.strong,{children:\"5. Leveraging React Query\"})})}),\"\\n\",l(s.p,{children:\"To simplify data fetching and state management, consider using React Query. It handles caching, synchronization, and updating state efficiently:\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:e(s.code,{\"data-line-numbers\":\"\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},\"data-line-numbers-max-digits\":\"2\",children:[e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"import\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" { useQuery } \"}),l(s.span,{style:{color:\"#F97583\"},children:\"from\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\" 'react-query'\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" fetchPokemon\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#F97583\"},children:\" async\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\" id\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),l(s.span,{style:{color:\"#79B8FF\"},children:\" res\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#F97583\"},children:\" await\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"`https://pokeapi.co/api/v2/pok/${\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  if\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),l(s.span,{style:{color:\"#F97583\"},children:\"!\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"res.ok) \"}),l(s.span,{style:{color:\"#F97583\"},children:\"throw\"}),l(s.span,{style:{color:\"#F97583\"},children:\" new\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" Error\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"'Network response was not ok'\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),l(s.span,{style:{color:\"#B392F0\"},children:\"json\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"const\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" usePokemon\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =\"}),l(s.span,{style:{color:\"#FFAB70\"},children:\" id\"}),l(s.span,{style:{color:\"#F97583\"},children:\" =>\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[l(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),l(s.span,{style:{color:\"#9ECBFF\"},children:\"'pokemon'\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\", id], () \"}),l(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),l(s.span,{style:{color:\"#B392F0\"},children:\" fetchPokemon\"}),l(s.span,{style:{color:\"#E1E4E8\"},children:\"(id))\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),\"\\n\",l(s.p,{children:\"React Query abstracts away much of the complexity involved in handling asynchronous data and state, allowing you to focus on building features.\"}),\"\\n\",l(s.h2,{id:\"conclusion\",children:l(s.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#conclusion\",children:l(s.strong,{children:\"Conclusion\"})})}),\"\\n\",l(s.p,{children:\"Managing asynchronous data fetching in React involves more than just calling an API.\\nHandling loading and error states, avoiding race conditions, abstracting logic, managing data duplication,\\nand leveraging tools like React Query are essential for building robust and efficient applications.\\nBy addressing these aspects, you’ll enhance both the reliability and user experience of your React apps.\"})]})}return{default:function(n={}){const{wrapper:e}=n.components||{};return e?l(e,{...n,children:l(_createMdxContent,{...n})}):_createMdxContent(n)}};",
    "slugAsParams": "handling-asyc-data"
  }
]